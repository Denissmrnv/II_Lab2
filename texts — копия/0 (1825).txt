арбитражная торговля алгоритм беллмана форда вчера арбитражная торговля алгоритм беллмана форда алгоритмы математика  финансы   торговля бирже обычно ассоциируется рисками это совершенно верно большинства торговых стратегий успешность торговли этих случаях определяется исключительно способностью верно оценивать риски управлять ими торговые стратегии таковы существуют безрисковые стратегии которым относится частности арбитраж статье рассказано такое арбитраж реализовать использованием такого классического алгоритма графе алгоритм беллмана форда   такое арбитраж  арбитраж это несколько логически связанных сделок направленных извлечение прибыли разницы ценах одинаковые связанные активы одно время разных рынках пространственный арбитраж либо одном рынке разные моменты времени временной арбитраж  качестве простого примера рассмотрим пространственный арбитраж нью йорке лондоне заключить сделки покупке долларов евро евро доллары нью йорке это делать курсу доллара евро лондоне курсу долларов евро такая разница курсов открывает возможность пространственного арбитража    имея доллара нью йорке купить евро лондоне купить евро долларов заметить такая несложная последовательность сделок приносит доллар прибыли каждые вложенные доллара соответственно изначально имеется миллиона долларов прибыль миллион  обменные курсы спред рассматриваем одной той валютной пары отличаются последовательность сделок необходимых реализации арбитражной стратегии очень простая случае курс одной валютной пары фиксирован торгуются несколько валютных пар параллельно арбитраж также возможен последовательность сделок нетривиальной примеру купить евро долларов фунта евро долларов фунта прибыль последовательности сделок составит доллар каждые вложенных долларов    бирже могут торговаться сотни валютных пар обменные курсы постоянно меняются понять последовательность сделок принес т прибыль алгоритмического решения случае невозможно   переход алгоритмической задаче  представим потенциальные сделки обмена валюты алгоритмическом виде именно виде графа вершины графе представляют валюты ребра являются возможными сделками длина ребра соответствует обменному курсу которому данную сделку заключить     далее встает вопрос таком графе найти последовательность сделок которая принесет прибыль очевидно начале последовательности е конце должна одна та валюта последовательность должна соответствовать циклу заданном графе далее необходимо определиться вычисляется обменный курс двумя валютами обмениваются напрямую некую третью валюту произвольное количество промежуточных операций вс достаточно просто обменный курс вычисляться произведение обменных курсов промежуточных сделок прибыльной последовательность сделок становится это произведение принимает значение меньше нуля другими словами единицу валюты купить меньше единицу самой валюты     классические алгоритмы графах плохо подходят работы произведением длин ребер такие алгоритмы основном заточены нахождение пути который определяется сумма этих длин однако обхода ограничения существует математический способ перейти произведения сумме таким способом является логарифмирование логарифмом оказывается сумма логарифм преобразован сумму логарифмов правой части уравнения желаемым является число меньшее единицы значит логарифм числа должен меньше нуля           простой математический трюк позволяет перейти поиска цикла произведение длин ребер которого меньше единицы поиску цикла сумма длин ребер которого меньше нуля такая задача выглядит решаемой классическими графовыми алгоритмами точнее алгоритмом беллмана форда   алгоритм беллмана форда  алгоритм беллмана форда обычно используется нахождения расстояния заданной вершины остальных вершин некоторого графа однако модификация позволяет найти циклы отрицательной длины  базовой операцией алгоритма является релаксация ребер суть данной операции следующая допустим имеется ребро известны вычисленные ранее предварительные значения расстояний вершин выполнения релаксации ребра требуется вычислить какое получилось расстояние вершины путь проходил вершину ребро это расстояние вычисляется сумма расстояния вершины длины ребра далее это расстояние оказывается меньше текущего предварительного расстояния это самое расстоние переписывается принимает новое вычисленное значение  остальной алгоритм несложен необходимо это количество вершин графа обойти список ребер каждом обходе применяя операцию релаксации сложность алгоритма получается количество вершин количество ребер графа отрицательных циклов дальнейшие релаксации ребер приведут изменению расстояний вершин время графа содержащего отрицательный цикл релаксации будут уменьшать расстояние вершин обходов это свойство использовано использовано нахождения искомого цикла  кому привычнее разбираться кодом должна помочь следующая небольшая реализация описанного выше алгоритма е     разберем пример небольшим графом состав которого входит цикл отрицательной длины работы алгоритма необходимо каждой вершины поддерживать текущее известное расстояние ссылку е предыдущую вершину ссылка предыдущая вершина данном случае определяется успешной релаксацией ребра операция релаксации прошла успешно дистанция вершины обновлена ссылка предыдущую вершина вершины также обновляется принимает значение вершины источника заданного ребра  итак начала необходимо инициализировать вершины установив дистанцию вершин кроме начальной равной бесконечности начальной вершины устанавливается дистанция равная нулю     далее следует первый обход ребер выполняются релаксации практически релаксации дают никакого результата кроме релаксации ребра релаксация данного ребра позволяет обновить расстояние     далее следует второй обход р бер графа соответствующие релаксации результат дают релаксации ребер также обновляются расстояния вершин следует заметить результат зависит каком порядке происходит обход ребер     третьем обходе ребер удается успешно релаксировать ребра именно ребра релаксации ребер обновляются записанные ранее расстояния соответствующие ссылки предыдущие вершины     четвертом обходе успешно заканчиваются операции релаксации ребер обновляются записанные значения расстояний вершин соответствующие ссылки предыдущие вершины     пятый обход является последним обходе релаксируются ребра заметить наличие цикла отрицательной длины вносит определенные корректировки значения расстояний вершин     обхода граф содержал цикла отрицательной длины алгоритм закончен релаксация любого ребра внесла никаких изменений однако данного графа наличия цикла отрицательной длины найти ребро релаксация которого обновит значения расстояния одной вершин     ребро релаксация которого обновляет расстояние вершины найдено это подтверждает наличие цикла отрицательной длины необходимо найти цикл важно вершина расстояние которой обновилось внутри цикла вне примере это вершина вне цикла далее необходимо обратиться ссылкам предыдущие вершины которые аккуратно обновлялись шагах алгоритма гарантированно попасть цикл необходимо отступить назад вершин пользуясь этими ссылками  данном примере переходы будут следующие таким образом находится вершина которая гарантированно лежит цикле отрицательной длины     далее дело техники вернуть искомый цикл нужно итерироваться ссылкам предыдущие вершины пока встретится вершина это значить цикл замкнулся остается изменить порядок обратный итерациях ссылкам предыдущие вершины порядок инвертирован  приведенном алгоритме предполагается наличие некоторой изначальной вершины которой рассчитываются расстояния наличие вершины является обязательным работы алгоритма введена большей степени соответствия изначальному алгоритму беллмана форда предметом интереса является цикл отрицательной длины считать вершины заданного графа являются начальными другими словами дистанция вершин изначально равна нулю   заключение  использование алгоритма беллмана форда задаче арбитражной торговли является отличным примером классические алгоритмы позволяют решать реальные проблемы бизнеса частности финансовой сфере асимптотическая сложность алгоритма равная полносвязного графа оказаться достаточно большой действительно нужно помнить однако многих случаях таких обмен валюты эта сложность создает никаких проблем связи относительно малым количеством узлов графе теги     добавить метки хабы алгоритмы математика  финансы укажите причину минуса автор поработал ошибками  отправить анонимно 